/* ============================================
   DARK MODE THEME
   Dark mode color overrides only
   ============================================ */

[data-bs-theme='dark'] {
    /* Neutral Scale - Inverted */
    --neutral-50: #292524;
    --neutral-50-rgb: 41, 37, 36;
    --neutral-100: #1c1917;
    --neutral-100-rgb: 28, 25, 23;
    --neutral-200: #44403c;
    --neutral-200-rgb: 68, 64, 60;
    --neutral-300: #57534e;
    --neutral-300-rgb: 87, 83, 78;
    --neutral-400: #78716c;
    --neutral-400-rgb: 120, 113, 108;
    --neutral-500: #a8a29e;
    --neutral-500-rgb: 168, 162, 158;
    --neutral-600: #d6d3d1;
    --neutral-600-rgb: 214, 211, 209;
    --neutral-700: #e7e5e4;
    --neutral-700-rgb: 231, 229, 228;
    --neutral-800: #f5f5f4;
    --neutral-800-rgb: 245, 245, 244;
    --neutral-900: #fafaf9;
    --neutral-900-rgb: 250, 250, 249;

    /* Brand Colors - Dark Mode Adjustments */
    --brand-primary: #cbd5e1;
    /* Slate-300 - WCAG AA compliant (~4.8:1 on dark bg) */
    --brand-primary-dark: #94a3b8;
    /* Slate-400 - hover/active */
    --brand-primary-light: #e2e8f0;
    /* Slate-200 - subtle accents */
    --brand-success: #059669;
    /* Emerald-600 - deeper green, distinct from teal */
    --brand-success-dark: #047857;
    /* Emerald-700 */
    --brand-accent: #f97316;
    /* Orange-500 - warm contrast to cool teal */
    --brand-accent-dark: #ea580c;
    /* Orange-600 */
    --brand-warn: #f59e0b;
    /* Amber-500 - warm, distinct */
    --brand-danger: #f43f5e;
    /* Rose-500 - vibrant but not harsh */

    /* Brand Semantic Colors */
    --brand-bg: #1c1917;
    --brand-bg-secondary: #292524;
    --brand-surface: #44403c;
    --brand-text: #f5f5f4;
    --brand-text-muted: #d6d3d1;
    /* Lighter for better contrast on dark surfaces */
    --brand-border: #57534e;
    /* Distinct from surface for definition */

    /* Bootstrap Mappings */
    --bs-body-bg: var(--brand-bg);
    --bs-body-color: var(--brand-text);
    --bs-primary: var(--brand-primary);
    --bs-primary-rgb: 203, 213, 225;
    /* Slate-300 RGB */
    --bs-secondary: var(--neutral-400);
    --bs-success: var(--brand-success);
    --bs-danger: var(--brand-danger);
    --bs-warning: var(--brand-warn);
    --bs-info: var(--brand-primary);
    /* Info uses neutral slate */
    --bs-info-rgb: 203, 213, 225;
    --bs-info-bg-subtle: rgba(68, 64, 60, 0.25);
    /* Content area - lighter */
    --bs-info-border-subtle: rgba(87, 83, 78, 0.6);
    /* Header - darker for strong contrast */
    --bs-info-text-emphasis: var(--brand-text);
    --bs-border-color: var(--brand-border);
    --bs-danger-rgb: 244, 63, 94;
    /* Rose-500 RGB */
    --bs-success-rgb: 5, 150, 105;
    /* Emerald-600 RGB */
    --bs-warning-rgb: 245, 158, 11;
    /* Amber-500 RGB */

    /* Semantic tokens - dark mode overrides */
    --success-bg: rgba(5, 150, 105, 0.1);
    --info-bg: rgba(203, 213, 225, 0.1);

    /* Input Variables for Dark Mode - CRITICAL: needs visible borders */
    --input-bg: #292524;
    /* Slightly darker than surface */
    --input-border: #78716c;
    /* Much lighter for definition */

    /* Shadows - Adjusted for dark backgrounds */
    --shadow-sm: 0 0 0 1px rgba(255, 255, 255, 0.05), 0 1px 3px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 0 0 1px rgba(255, 255, 255, 0.05), 0 4px 6px -1px rgba(0, 0, 0, 0.3);
    --shadow-lg: 0 0 0 1px rgba(255, 255, 255, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.4);

    /* Elevated surfaces - dark mode */
    --surface-elevated-bg: rgba(68, 64, 60, 0.95);
    --surface-elevated-blur: blur(20px) saturate(180%);

    /* Glass utility colors - dark mode (inverted to subtle white-on-dark) */
    --glass-white-10: rgba(255, 255, 255, 0.06);
    --glass-white-5: rgba(255, 255, 255, 0.03);

    /* Component Overrides */
    .card {
        background-color: var(--brand-surface) !important;
        border-color: var(--brand-border) !important;
        color: var(--brand-text) !important;
        box-shadow: var(--shadow-md) !important;
    }

    .card-body {
        background-color: var(--brand-surface) !important;
        color: var(--brand-text) !important;
    }

    .card-title,
    .card-text,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        color: var(--brand-text) !important;
    }

    .text-muted {
        color: var(--brand-text-muted) !important;
    }

    p {
        color: var(--brand-text);
    }

    .form-control,
    .form-select {
        background-color: var(--input-bg);
        border-color: var(--input-border);
        color: var(--text-primary);

        &:focus {
            background-color: var(--input-bg);
            border-color: var(--gradient-primary-start);
            color: var(--text-primary);
        }

        &::placeholder {
            color: var(--text-secondary);
            opacity: 0.6;
        }
    }

    .form-label {
        color: var(--text-primary);
    }

    .btn-group .btn-outline-secondary {
        background-color: var(--neutral-700) !important;
        border-color: var(--neutral-500) !important;

        &:hover {
            background-color: var(--neutral-600) !important;
        }
    }

    /* Alert overrides - neutral subdued approach */
    .alert-primary {
        background-color: rgba(var(--bs-primary-rgb), 0.12) !important;
        border-color: rgba(var(--bs-primary-rgb), 0.25) !important;
        color: var(--brand-primary-light) !important;
    }

    .alert-warning {
        background-color: rgba(234, 179, 8, 0.15) !important;
        border-color: rgba(234, 179, 8, 0.25) !important;
        color: #fef08a !important;
        /* Yellow-200 - warm and visible */
    }

    .alert-info {
        background-color: var(--input-bg) !important;
        border-color: var(--input-border) !important;
        color: var(--brand-text) !important;
    }

    .alert-success {
        background-color: rgba(5, 150, 105, 0.1) !important;
        border-color: rgba(5, 150, 105, 0.2) !important;
        color: #86efac !important;
        /* Green-300 - softer */
    }

    .alert-danger {
        background-color: rgba(244, 63, 94, 0.1) !important;
        border-color: rgba(244, 63, 94, 0.2) !important;
        color: #fecdd3 !important;
        /* Rose-200 - softer */
    }

    /* Badge overrides for dark mode */
    .badge.bg-secondary-subtle {
        background-color: rgba(168, 162, 158, 0.25) !important;
        color: #a8a29e !important;
    }

    /* Year header overrides for team library */
    .year-header.bg-light {
        background-color: rgba(87, 83, 78, 0.4) !important;
        border-color: var(--brand-border) !important;
        color: var(--brand-text) !important;

        &:hover {
            background-color: rgba(87, 83, 78, 0.5) !important;
        }
    }

    /* Primary button - dark mode styling */
    .btn-primary {
        --bs-btn-color: #ffffff;
        --bs-btn-bg: var(--bs-primary);
        --bs-btn-border-color: var(--bs-primary);
        --bs-btn-hover-color: #ffffff;
        --bs-btn-hover-bg: var(--brand-primary-dark);
        --bs-btn-hover-border-color: var(--brand-primary-dark);
        --bs-btn-focus-shadow-rgb: var(--bs-primary-rgb);
        --bs-btn-active-color: #ffffff;
        --bs-btn-active-bg: var(--brand-primary-dark);
        --bs-btn-active-border-color: var(--brand-primary-dark);
    }

    /* Outline primary button - dark mode styling */
    .btn-outline-primary {
        --bs-btn-color: var(--bs-primary);
        --bs-btn-border-color: var(--bs-primary);
        --bs-btn-hover-color: var(--neutral-0);
        --bs-btn-hover-bg: var(--bs-primary);
        --bs-btn-hover-border-color: var(--bs-primary);
        --bs-btn-active-color: var(--neutral-0);
        --bs-btn-active-bg: var(--brand-primary-dark);
        --bs-btn-active-border-color: var(--brand-primary-dark);
    }

    /* Disabled button state - ensure proper dark mode appearance */
    .btn-primary:disabled,
    .btn-primary.disabled {
        --bs-btn-disabled-bg: var(--neutral-400);
        --bs-btn-disabled-border-color: var(--neutral-400);
        --bs-btn-disabled-color: var(--neutral-600);
    }
}